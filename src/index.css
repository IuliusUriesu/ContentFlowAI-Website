/* Import Google Fonts: Lato and Montserrat */
@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap");

@import "tailwindcss";

@theme {
  /* Fonts */
  --font-sans: "Lato", "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif;
  --font-heading: "Montserrat", "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;

  /* Backgrounds */
  --color-bg: #121212; /* deep charcoal */
  --color-surface: #1e1e1e; /* cards, panels */

  /* Text */
  --color-text: #ffffff; /* pure white */
  --color-text-muted: #c9c9c9; /* softer text */

  /* Borders */
  --color-border: #2e2e2e;
  --color-border-light: #5d5d5d;

  /* Accent (Indigo) */
  --color-primary: #4f46e5; /* Indigo 600 from Tailwind */

  /* Semantic */
  --color-success: #22c55e; /* Emerald 500 */
  --color-error: #ef4444; /* Red 500 */
  --color-error-bg: #b91c1c;
  --color-warning: #ca8a04; /* Yellow 600 */
  --color-info: #0ea5e9; /* Sky 500 */
}

@layer base {
  html,
  body {
    font-family: var(--font-sans);
    background-color: var(--color-bg);
    color: var(--color-text);
    @apply h-full;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-heading);
    color: var(--color-text);
  }

  a {
    color: var(--color-primary);
  }

  hr {
    border-color: var(--color-border);
  }
}

@layer components {
  .app-container {
    @apply h-screen flex flex-col bg-[var(--color-bg)] text-[var(--color-text)];
  }

  .nav-bar {
    @apply flex items-center justify-between px-6 py-4 bg-[var(--color-surface)] border-b border-[var(--color-border)];
  }

  .app-title {
    @apply text-2xl font-bold text-[var(--color-text)] no-underline;
  }

  .user-button {
    @apply flex items-center space-x-2 focus:outline-none cursor-pointer;
  }

  .user-avatar {
    @apply w-8 h-8 rounded-full bg-[var(--color-primary)] flex items-center justify-center text-white;
  }

  .user-dropdown-menu {
    @apply absolute right-0 mt-2 w-40 bg-[var(--color-surface)] border border-[var(--color-border)] rounded-xl;
  }

  .user-dropdown-item {
    @apply w-full text-left px-4 py-2 hover:bg-[var(--color-border)] rounded-xl;
  }

  .primary-button {
    @apply px-4 py-2 rounded-full bg-[var(--color-primary)] text-white font-medium hover:brightness-110 transition cursor-pointer;
  }

  .signout-button {
    @apply text-[var(--color-error)] cursor-pointer flex items-center justify-between;
  }

  .signout-icon {
    @apply inline-block mr-2 w-4 h-4 text-[var(--color-error)];
  }

  .sidebar {
    @apply w-72
      bg-[var(--color-surface)]
      border-r border-[var(--color-border)]
      flex flex-col
      p-4
      /* hide any overflow in the container itself */
      overflow-hidden;
  }

  .sidebar-list {
    @apply space-y-2
      flex-1               /* fill all vertical space in the sidebar */
      min-h-0             /* allow itself to shrink below content height */
      -mr-4
      overflow-y-auto;
  }

  .sidebar-item {
    @apply relative h-12 flex items-center px-4 rounded-xl
           text-[var(--color-text)] text-sm hover:bg-[var(--color-border)]
           transition truncate no-underline;
  }

  /* Fade‑out mask on the right */
  .sidebar-item::after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: 1.5rem; /* how wide the fade is */
    pointer-events: none;
    /* use background-image here so Tailwind’s parser is happy */
    background-image: linear-gradient(
      to right,
      rgba(255, 255, 255, 0) 0%,
      var(--color-surface) 100%
    );
  }

  .sidebar-item-active {
    @apply bg-[var(--color-border)];
  }

  .sidebar-loading {
    @apply p-2 text-[var(--color-text-muted)];
  }

  .retry-button {
    @apply p-2 rounded-full hover:bg-[var(--color-border)] focus:outline-none cursor-pointer;
  }

  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: var(--color-border) transparent;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: var(--color-border);
    border-radius: 2px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    cursor: auto;
    background-color: var(--color-border-light);
  }

  .chat-box-question {
    @apply text-3xl font-bold text-center text-[var(--color-text)];
  }

  .chat-box {
    @apply bg-[var(--color-surface)] border border-[var(--color-border-light)] rounded-4xl py-4 pr-4 pl-6 space-y-4;
  }

  .chat-box-textarea {
    @apply w-full bg-transparent text-[var(--color-text)] placeholder-[var(--color-text-muted)] resize-none outline-none min-h-[72px] pr-2 overflow-y-auto;
  }

  .chat-box-fields-container {
    @apply flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4;
  }

  .chat-box-dropdown {
    @apply bg-[var(--color-surface)] border border-[var(--color-border-light)] text-[var(--color-text)] rounded-full px-3 py-2 flex items-center justify-between focus:outline-none cursor-pointer;
  }

  .chat-box-dropdown-list {
    @apply absolute left-0 mt-1 bg-[var(--color-surface)] border border-[var(--color-border-light)] rounded-xl max-h-60 overflow-auto z-10;
  }

  .chat-box-dropdown-item {
    @apply cursor-pointer px-3 py-2 flex items-center justify-between hover:bg-[var(--color-border)] text-[var(--color-text)] font-semibold;
  }

  .chat-box-send-button {
    @apply sm:ml-auto bg-[var(--color-primary)] p-3 rounded-full hover:brightness-110 transition text-white flex items-center justify-center cursor-pointer;
  }

  .card-base {
    @apply bg-[var(--color-surface)] border border-[var(--color-border-light)] rounded-4xl p-6 space-y-4;
  }

  .col-grid-3 {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8;
  }

  .generated-content-card {
    @apply bg-[var(--color-surface)] border border-[var(--color-border-light)] hover:bg-[var(--color-border)] rounded-4xl p-4 h-32 cursor-pointer transition flex items-center justify-center;
  }

  .centered-container {
    @apply flex-1 flex flex-col items-center justify-center space-y-2 px-4 text-center;
  }

  .go-back-button {
    @apply flex-none p-2 rounded-full bg-[var(--color-surface)] border border-[var(--color-border-light)] hover:bg-[var(--color-border)] transition cursor-pointer;
  }

  .content-textarea {
    @apply w-full h-full resize-none p-2 pl-4 focus:outline-none overflow-y-auto bg-transparent border-none;
  }

  .content-textarea-wrapper {
    @apply relative flex-1 min-w-0 h-full rounded-4xl border border-[var(--color-border-light)] overflow-hidden bg-[var(--color-surface)] p-2 transition duration-300;
  }

  .content-textarea-wrapper-focus {
    @apply border-[var(--color-primary)];
  }

  .stepper-step {
    @apply w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-colors no-underline
    hover:ring-offset-[var(--color-bg)] hover:ring-offset-4 hover:ring-2;
  }

  .stepper-active-step-ring {
    @apply ring-offset-[var(--color-bg)] ring-offset-4 ring-2 ring-[var(--color-primary)];
  }

  .existing-content-list {
    @apply space-y-2 p-2 rounded-xl w-7/12;
  }

  .existing-content-list-item {
    @apply w-full text-left text-[var(--color-text)] px-4 py-2 rounded-xl hover:bg-[var(--color-surface)] cursor-pointer flex justify-between gap-2;
  }

  .existing-content-list-add-another {
    @apply border-2 border-dashed border-[var(--color-border-light)] text-[var(--color-text-muted)] hover:border-[var(--color-primary)] hover:text-[var(--color-primary)] hover:bg-transparent transition-colors;
  }

  .profile-setup-form-input {
    @apply bg-[var(--color-surface)] focus:outline-none px-4 py-2 rounded-xl border border-[var(--color-border-light)];
  }

  .arrow-right-button {
    @apply rounded-full p-1 hover:bg-[var(--color-surface)] text-[var(--color-text)] cursor-pointer;
  }

  .text-semibold {
    @apply font-semibold text-[var(--color-text)];
  }

  .error-banner {
    @apply fixed inset-x-24 top-8 bg-[var(--color-error-bg)] text-[var(--color-text)] text-lg rounded-xl
    flex items-center justify-between gap-2 px-6 py-4 z-50;
  }
}
